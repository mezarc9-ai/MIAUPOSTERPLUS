<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Divertido - Miau Poster</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>
    <!-- Header/Navegaci√≥n -->
    <header class="header">
        <nav class="navbar">
            <div class="logo">
                <!-- Logo cambiado de emoji a imagen -->
                <img src="../images/logo.png" alt="Paw Posters Logo" class="logo-img">
                <h1><a href="../index.html" style="color: white; text-decoration: none;">miau Poster</a></h1>
            </div>
            <ul class="nav-links">
                <li><a href="../index.html">Inicio</a></li>
                <li><a href="../index.html#categorias">Categor√≠as</a></li>
                <li><a href="../index.html#about">Sobre Nosotros</a></li>
                <li><a href="../index.html#contact">Contacto</a></li>
            </ul>
            <div class="cart-icon">
                <span class="cart-count">0</span>
                üõí
            </div>
        </nav>
    </header>

    <!-- Categor√≠a Divertido -->
    <section class="categoria-seccion">
        <h1>Gatos Divertidos</h1>
        <p class="categoria-descripcion">Carcajadas garantizadas. Gatos c√≥micos y juguetones que traen alegr√≠a a tu hogar.</p>
        
        <div class="productos-grid" id="productosGrid"></div>
    </section>

    <!-- Carrito Modal -->
    <div class="cart-modal" id="cartModal">
        <div class="modal-content">
            <span class="close" onclick="closeCart()">&times;</span>
            <h2>Tu Carrito</h2>
            <div class="cart-items" id="cartItems"></div>
            <div class="cart-total">
                <p>Total: <span id="totalPrice">$0.00</span></p>
                <button class="checkout-btn">Comprar Ahora</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>&copy; 2025 miau Poster. Todos los derechos reservados. üê±</p>
        <div class="social-links">
            <a href="https://www.instagram.com/miauuposter?igsh=ZjZzYjY3dmxocDFh">Instagram</a>
            <a href="https://www.facebook.com/profile.php?id=61584130313322">Facebook</a>
            
    </footer>

    <script>
        const productosCategoria = [
            {
                id: 601,
                nombre: "Gato C√≥mico",
                imagen: "../images/divertido/poster-1.jpg", 
                precio: 21.99,
                descripcion: "Gato en pose c√≥mica hilariante",
            },
            {
                id: 602,
                nombre: "Gato Pizza Lover",
                imagen: "../images/divertido/poster-2.jpg", 
                precio: 22.99,
                descripcion: "Gato obsesionado con pizza",
            },
            {
                id: 603,
                nombre: "Gato Burrito",
                imagen: "../images/divertido/poster-3.jpg", 
                precio: 20.99,
                descripcion: "Gato envuelto en manta como burrito",
            },
            {
                id: 604,
                nombre: "Gato Sarc√°stico",
                imagen: "../images/divertido/poster-4.jpg", 
                precio: 23.99,
                descripcion: "Gato con actitud sarc√°stica",
            },
            {
                id: 605,
                nombre: "Gato Fiesta",
                imagen: "../images/divertido/poster-5.jpg", 
                precio: 24.99,
                descripcion: "Gato de fiesta con confeti",
            },
            {
                id: 606,
                nombre: "Gato Danzar√≠n",
                imagen: "../images/divertido/poster-6.jpg", 
                precio: 21.99,
                descripcion: "Gato bailando sin ritmo",
            },
        ];

        const carrito = [];

        document.addEventListener("DOMContentLoaded", () => {
            cargarProductos();
        });

        function cargarProductos() {
            const productosGrid = document.getElementById("productosGrid");
            productosGrid.innerHTML = "";

            productosCategoria.forEach((producto) => {
                const productCard = document.createElement("div");
                productCard.className = "product-card";
                productCard.innerHTML = `
                    <div class="product-image">
                        <img src="${producto.imagen}" alt="${producto.nombre}" class="product-img">
                    </div>
                    <div class="product-info">
                        <h3 class="product-name">${producto.nombre}</h3>
                        <p class="product-description">${producto.descripcion}</p>
                        <p class="product-price">$${producto.precio.toFixed(2)}</p>
                        <button class="add-to-cart-btn" onclick="agregarAlCarrito(${producto.id})">
                            Agregar al Carrito
                        </button>
                    </div>
                `;
                productosGrid.appendChild(productCard);
            });
        }

        function agregarAlCarrito(productoId) {
            const producto = productosCategoria.find((p) => p.id === productoId);
            const itemEnCarrito = carrito.find((item) => item.id === productoId);

            if (itemEnCarrito) {
                itemEnCarrito.cantidad++;
            } else {
                carrito.push({
                    ...producto,
                    cantidad: 1,
                });
            }

            actualizarCarrito();
            mostrarNotificacion("¬°Producto agregado al carrito!");
        }

        function actualizarCarrito() {
            const cartCount = document.querySelector(".cart-count");
            const totalProductos = carrito.reduce((total, item) => total + item.cantidad, 0);
            cartCount.textContent = totalProductos;
            actualizarModalCarrito();
        }

        function actualizarModalCarrito() {
            const cartItems = document.getElementById("cartItems");
            cartItems.innerHTML = "";

            let total = 0;

            carrito.forEach((item, index) => {
                const subtotal = item.precio * item.cantidad;
                total += subtotal;

                const cartItem = document.createElement("div");
                cartItem.className = "cart-item";
                cartItem.innerHTML = `
                    <div>
                        <strong>${item.nombre}</strong><br>
                        Cantidad: <input type="number" min="1" value="${item.cantidad}" 
                            onchange="cambiarCantidad(${index}, this.value)" style="width: 50px;">
                    </div>
                    <div>
                        $${subtotal.toFixed(2)}
                        <button onclick="eliminarDelCarrito(${index})" style="margin-left: 1rem; cursor: pointer; background: #FF6B6B; color: white; border: none; padding: 5px 10px; border-radius: 5px;">
                            ‚úï
                        </button>
                    </div>
                `;
                cartItems.appendChild(cartItem);
            });

            const totalPrice = document.getElementById("totalPrice");
            totalPrice.textContent = `$${total.toFixed(2)}`;
        }

        function cambiarCantidad(index, nuevaCantidad) {
            if (nuevaCantidad > 0) {
                carrito[index].cantidad = Number.parseInt(nuevaCantidad);
            } else {
                carrito.splice(index, 1);
            }
            actualizarCarrito();
        }

        function eliminarDelCarrito(index) {
            carrito.splice(index, 1);
            actualizarCarrito();
        }

        document.querySelector(".cart-icon").addEventListener("click", () => {
            document.getElementById("cartModal").style.display = "block";
        });

        function closeCart() {
            document.getElementById("cartModal").style.display = "none";
        }

        window.onclick = (event) => {
            const modal = document.getElementById("cartModal");
            if (event.target == modal) {
                modal.style.display = "none";
            }
        };

        function mostrarNotificacion(mensaje) {
            const notificacion = document.createElement("div");
            notificacion.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: linear-gradient(135deg, #FF8C00, #1E90FF);
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                z-index: 2000;
                animation: slideIn 0.3s ease-out;
            `;
            notificacion.textContent = mensaje;
            document.body.appendChild(notificacion);

            setTimeout(() => {
                notificacion.style.animation = "slideOut 0.3s ease-out";
                setTimeout(() => notificacion.remove(), 300);
            }, 2000);
        }

        const style = document.createElement("style");
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(400px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(400px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
